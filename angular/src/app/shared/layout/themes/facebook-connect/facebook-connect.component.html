
<div *ngIf="isfirst" class="card p-5 shadow rounded-4 border-0 text-center container-xxl p-0">
  <div class="d-flex align-items-center mb-4">
    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet"><circle cx="12" cy="12" r="12" fill="url(#paint0_linear_MessengerChannel_7619_1719)"></circle><path fill-rule="evenodd" clip-rule="evenodd" d="M5 11.7277C5 8.13397 8.11522 5.22119 11.958 5.22119C15.8008 5.22119 18.916 8.13397 18.916 11.7277C18.916 15.3215 15.8008 18.2343 11.958 18.2343C11.2635 18.2343 10.5926 18.1391 9.9597 17.9617L7.58508 19.279V16.7886C6.00817 15.5961 5 13.7721 5 11.7277ZM7.77708 13.6454L9.65079 10.6474C9.98917 10.106 10.7189 9.97105 11.2285 10.3556L12.694 11.4614C12.8258 11.5608 13.0082 11.5578 13.1366 11.4542L15.1731 9.81011C15.4883 9.55573 15.9182 9.93534 15.7048 10.2795L13.7239 13.4747C13.3718 14.0426 12.5957 14.1618 12.0894 13.7257L10.7446 12.5673C10.6142 12.455 10.4225 12.4508 10.2873 12.5572L8.30465 14.1186C7.98785 14.3681 7.56336 13.9873 7.77708 13.6454Z" fill="white"></path><defs><linearGradient id="paint0_linear_MessengerChannel_7619_1719" x1="13.5" y1="27.5" x2="3.5" y2="-2.16672e-07" gradientUnits="userSpaceOnUse"><stop offset="0.1137" stop-color="#006DFF"></stop><stop offset="1" stop-color="#00C6FF"></stop></linearGradient></defs></svg>    
    <h4 class="mb-0 fw-bold">Facebook</h4>
  </div>

  <div class="card-body">
    <img src="https://infoseedmediastorageprod.blob.core.windows.net/4408da24-aad7-4802-a1f1-46f5ad9e2074/download (1).svg" class="messenger-illustration" alt="Messenger Illustration" />
    <h3>Facebook Messenger chatbot #1</h3>
    <p>
      Sell products, book appointments, nurture leads, capture contact info, and build relationships all through Messenger
      with Infoseed built for mobile chatbot tools.
    </p>

    <div class="d-flex justify-content-center mb-4">
      <button class="btn btn-primary" (click)="loginWithFacebook()">Connect</button>
    </div>

  </div>
</div>




<div *ngIf="!isfirst" class="card p-5 shadow rounded-4 border-0 text-center container-xxl p-0">
  <div class="connect-card shadow rounded-4 text-center">
    <img
      src="https://infoseedmediastorageprod.blob.core.windows.net/4408da24-aad7-4802-a1f1-46f5ad9e2074/download (1).svg"
      alt="Messenger Icon"
      class="icon mb-4"
    />
    <h2 class="title">Connect<br />Facebook Page</h2>
    <p class="subtitle">
      Follow the instruction to create your first Messenger automation.
    </p>



    <p class="page-found-text mt-3">
      We found {{pages.length}} Facebook Page managed by you.
    </p>

    <div *ngFor="let page of pages" class="page-card d-flex justify-content-between align-items-center mx-auto my-3 px-3 py-2">
      <div class="d-flex align-items-center gap-2">
        <div class="page-avatar">{{ page.name.charAt(0) }}</div>
        <span class="page-name">{{ page.name }}</span>
      </div>

      <button *ngIf="page.isSubscribe"
      class="connect-btn btn"
      [ngClass]="page.isSubscribe ? 'btn-danger' : 'btn-primary'"
      (click)="subscribeAppToPage(page.id,page.access_token,false)">
      {{'Disconnect'}}
    </button>
      <button *ngIf="!page.isSubscribe"
        class="connect-btn btn"
        [ngClass]="page.isSubscribe ? 'btn-danger' : 'btn-primary'"
        (click)="subscribeAppToPage(page.id,page.access_token,true)">
        {{ 'Connect' }}
      </button>
    </div>


  </div>

</div>






<!-- <div class="card p-4 shadow rounded-4 border-0 content-wrapper container-xxl p-0 ng-tns-c308-4
" >
  <h4 class="mb-3 d-flex align-items-center" style="color: #0084FF;">
    <i class="fab fa-facebook-messenger me-2 fs-4"></i>
    Connect Facebook Messenger
  </h4>
  <button (click)="loginWithFacebook()" class="btn btn-sm px-4 py-2"
          style="border: 1px solid #009789 !important; color: #009789 !important;">
    <i class="fab fa-facebook me-2"></i>Login with Facebook
  </button>

  <div *ngIf="pages.length > 0" class="mt-4">
    <h6 class="mb-3 text-muted">Select a Page to Subscribe:</h6>
    <ul class="list-group">
      <li *ngFor="let page of pages" class="list-group-item d-flex justify-content-between align-items-center">
        <span><i class="fas fa-briefcase me-2 text-secondary"></i> {{ page.name }}</span>

        <button
          class="btn btn-sm"
          [ngClass]="page.isSubscribe ? 'btn-outline-danger' : 'btn-outline-success'"
          (click)="toggleSubscription(page)"
        >
          <i class="fas" [ngClass]="page.isSubscribe ? 'fa-unlink me-1' : 'fa-link me-1'"></i>
          {{ page.isSubscribe ? 'Unsubscribe' : 'Subscribe' }}
        </button>
      </li>
    </ul>
  </div>
</div> -->