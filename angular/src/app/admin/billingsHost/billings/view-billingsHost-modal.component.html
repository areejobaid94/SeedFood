



<div  id="billingModel" bsModal #createOrEditModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="createOrEditModal" aria-hidden="true" [config]="{backdrop: 'static'}">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">

                    <div class="center" style="text-align: center;">
                        <img *ngIf="item.billing.isPayed" src="../assets/common/images/paid.png" alt="paid" style="height: 151px; width: 140px;margin-left: 292px;">

                    </div>

                
                <!-- <img *ngIf="!item.isPayed" src="../assets/common/images/unpaid.jpg" alt="paid" style="height: 151px; width: 140px; position: absolute; margin-left: -84px;margin-bottom: 81px;"> -->

                <!-- <h4 class="modal-title" style="margin-top: 74px;">
                    <span>{{l("Details")}}</span>
                </h4> -->
               
                
                <button type="button" class="close" (click)="close()" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">

                <div class="row">

                    <div class="col">
                        <img src="{{imageSrc}}" alt="Bill" style="height: 100px; width: 100px;">
                            <h4> {{nameTenant}}</h4> 
                            <p>Phone Number : {{phoneNumber}}</p>
                            <p>Your VATID</p>
                        
                    </div>

                    <div class="col">

                        <div class="row">
                            <div class="col-6 mb-3">
                                <strong><h6>Invoice #:</h6></strong>                               
                               
                            </div>
                            <div class="col-6 mb-3">
                                {{ item.billing.billingID }}
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6 mb-3">
                                <strong><h6>Invoice Date:</h6></strong>
                                
                                
                            </div>
                            <div class="col-6 mb-3">
                                {{ item.billing.billingDate |  momentFormat:'YYYY-MM-DD'}}
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6 mb-3">
                                <strong><h6>Due Date:</h6></strong>
                                                         
                            </div>
                            <div class="col-6 mb-3">
                                {{ item.billing.dueDate |  momentFormat:'YYYY-MM-DD'}}
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6 mb-3">
                                <strong><h6>Delivery Period:</h6></strong>
                                
                            </div>
                            <div class="col-6 mb-3">
                                {{ item.billing.billingDate |  momentFormat:'YYYY-MM'}}
                            </div>
                        </div>
                          

                    </div>              

                </div>

                <br>
                <hr style="height:2px;border-width:0;color:rgb(47, 1, 253);background-color:rgb(0, 4, 255)">
              
                <div class="row align-items-center">
                    <div class="primeng-datatable-container col-12"
                        >
                        <p-table #dataTable                                   
                                     [value]="itemDeitil"                              
                                     responsiveLayout="stack"
                                     [breakpoint]="'960px'">
                            <ng-template pTemplate="header">
                                <tr>

                                    <th style="width: 250px" pSortableColumn="sku">
                                        {{l('Item & Description')}}
                                    </th>

                                    <th style="width: 70px" pSortableColumn="lockByAgentName">
                                      {{l('Qty')}}
                                     </th>


                                     <th style="width: 250px" pSortableColumn="unitPrice">
                                        {{l('Rate')}}
                                     </th>


                                     <th style="width: 70px" pSortableColumn="quantity">
                                        {{l('Amount')}}
                                     </th>




                             

                                </tr>
                            </ng-template>                           
                            <ng-template pTemplate="body" let-record="$implicit" let-i="rowIndex">
                                <tr>
                                   
                                    <td style="width:250px">
                                     
                                        <div style="font-family: system-ui;" *ngIf="record.infoSeedServiceServiceName!='Order fees per month'">
                                            {{record.infoSeedServiceServiceName}}
                                        </div>
                                   </td>


                                   <td style="width:70px">
                                     
                                        <div style="font-family: system-ui;" *ngIf="record.infoSeedServiceServiceName!='Order fees per month'"> 
                                            {{record.accountBilling.qty}}
                                        </div> 

                                  </td>


                                  <td style="width:250px">
                                   
                       
                                    <div *ngIf="record.infoSeedServiceServiceName!='Order fees per month' && record.accountBilling.openAmount == (record.tenantServiceDto.firstNumberOfOrders * record.tenantServiceDto.feesForFirstOrder)" style="font-family: system-ui;">
                                        {{record.tenantServiceDto.feesForFirstOrder}}
    
                                    </div>

                                    <div *ngIf="record.infoSeedServiceServiceName!='Order fees per month' && !(record.accountBilling.openAmount == (record.tenantServiceDto.firstNumberOfOrders * record.tenantServiceDto.feesForFirstOrder))" style="font-family: system-ui;">
                                        {{record.tenantServiceDto.serviceFees}}
    
                                    </div>
                                   
                                 </td>

                                 
                                 <td style="width:70px">
                                     
                                    <div style="font-family: system-ui;" *ngIf="record.infoSeedServiceServiceName!='Order fees per month'">
                                        {{record.accountBilling.openAmount}}
                                    </div> 

                                </td>

                            </tr>
                               
                            </ng-template>

                        </p-table>
                    </div>
                    <!--<Primeng-Datatable-End>-->
                </div>

                <hr style="height:2px;border-width:0;color:rgb(241, 22, 22);background-color:rgb(153, 48, 48)">

      

        

                <div class="center" style="text-align: center;">

                    <label style="font-size: 41px">Total </label>
                   <p style="font-size: 41px"> {{item.billing.totalAmount}} {{item.currencyCurrencyName}} </p>
                </div>
 
            </div>
            <div class="modal-footer">
                <button [disabled]="saving" type="button" class="btn btn-outline-success" (click)="printPage()">{{l("Print")}}</button>
                <!-- <a [routerLink]="['/app/main/paymenttest']" [queryParams]="{IdBilling: item.billing.id}" ><button class="btn btn-outline-dark" >Pay</button></a> -->
                <input id="page-with-session"  *ngIf="!item.billing.isPayed"  type="button" class="btn btn-outline-danger" value="Pay" style="border-radius: 0.85rem;" onclick="Checkout.showLightbox();" />          
      
                <button [disabled]="saving" type="button" class="btn btn-outline-secondary" (click)="close()">{{l("Close")}}</button>
            </div>
        </div>
    </div>

</div>




<div id="PrintBillingID" bsModal #createOrEditModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="createOrEditModal" aria-hidden="true" [config]="{backdrop: 'static'}">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">

                <!-- <div class="center" style="text-align: center;">
                    <img *ngIf="item.billing.isPayed" src="../assets/common/images/paid.png" alt="paid" style="height: 151px; width: 140px;margin-left: 292px;">

                </div> -->
               
                
            </div>
            <div class="modal-body">

                <div class="row" style="display: -webkit-box;">
                    <div style="width: 70%; text-align: left;" >
                        <img alt="Logo" src="https://infoseedmediastorageprod.blob.core.windows.net/4408da24-aad7-4802-a1f1-46f5ad9e2074/39b837e8-5e35-4882-98e8-e9e5d94aa930.jpg" style="height: 150px; width: 300px;">

                    </div>
                    <div style="width: 50%; text-align: left;">
                        <p> <strong>infoseed software development</strong></p>
                        <p> <strong>Amman 125 - Mecca Street - Jordan</strong></p>
                        <p> <strong>(06) 552 0122</strong></p>
                        <p> <strong>ِAdmin@info-seed.com</strong></p>

                    </div>
                    

                </div>

                <div style="width: 100%; height: 20px; border-bottom: 1px solid black; text-align: center">
                    <span style="font-size: 40px; background-color: #F3F5F6; padding: 0 10px;">
                       INVOICE <!--Padding is optional-->
                    </span>
                  </div>

                <div class="row" style="display: -webkit-box;">

                    <div  style="width: 70%; text-align: left; padding-top: 70px;">
                        <!-- <img src="{{imageSrc}}" style="height: 100px; width: 100px;"> -->
                            <h4> {{nameTenant}}</h4> 
                            <p>Phone Number : {{phoneNumber}}</p>
                            <p>Your VATID</p>
                        
                    </div>
                    <div style="width: 15%; text-align: left; padding-top: 70px;">
                        <p> <strong>Invoice #:</strong>  </p>
                        <p> <strong>Invoice Date:</strong> </p>
                        <p> <strong>Due Date:</strong>  </p>
                        <p> <strong>Delivery Period:</strong>  </p> 

                    </div>
                    <div style="width: 15%; text-align: left; padding-top: 70px;">
                        <p> {{ item.billing.billingID }}</p>
                        <p>  {{ item.billing.billingDate |  momentFormat:'YYYY-MM-DD'}}</p>
                        <p> {{ item.billing.dueDate |  momentFormat:'YYYY-MM-DD'}}</p>
                        <p>  {{ item.billing.billingDate |  momentFormat:'YYYY-MM'}}</p> 

                    </div>

                </div>

                <br>
                <br>
                <br>
                <br>

                <div class="row" style="display: -webkit-box;"> 

                    <div style="width: 70%;">
                        <label style="font-weight: bold; font-size: 21px ">Item & Description</label>
                    </div>
                    <div style="width: 10%;">
                        <label style="font-weight: bold;font-size: 21px">Qty</label>

                    </div>
                    <div style="width: 10%;">                    
                        <label style="font-weight: bold;font-size: 21px">Rate</label>

                    </div>
                    <div style="width: 10%;">                     
                        <label style="font-weight: bold; font-size: 21px">Amount</label>

                    </div>



                </div>
                <hr style="height:2px;border-width:0;color:rgb(47, 1, 253);background-color:rgb(0, 4, 255)">
                <br>
                <br>

                <div class="row" style="display: -webkit-box;"> 

                    <div style="width: 70%;">
                        <label style="font-size: 18px">{{itemDeitil[0].infoSeedServiceServiceName}}</label>
                    </div>
                    <div style="width: 10%;">
                        <label style="font-size: 18px">{{itemDeitil[0].accountBilling.qty}}</label>

                    </div>
                    <div style="width: 10%;">                    
                        <label style="font-size: 18px">{{itemDeitil[0].accountBilling.openAmount}}</label>

                    </div>
                    <div style="width: 10%;">                     
                        <label style="font-size: 18px">{{itemDeitil[0].accountBilling.openAmount}}</label>

                    </div>



                </div>
                <br>
                <br>


        
                <hr style="height:2px;border-width:0;color:rgb(241, 22, 22);background-color:rgb(153, 48, 48)">

      

                <div class="row" style="display: -webkit-box;">
                    <div style="width: 80%; text-align: left;">

                    </div>

                    <div  style="width: 10%; text-align: left;">
                        <p> <strong>Total :</strong> </p>
                        <p> <strong>Sales tax :</strong>   </p>
                        <p> <strong>G.Total :</strong>   </p>
    
                        <!-- <label style="font-size: 41px">Total </label>
                       <p style="font-size: 41px"> {{item.billing.totalAmount}} {{item.currencyCurrencyName}} </p> -->
                    </div>

                    <div  style="width: 10%; text-align: left;">
                        <p> {{item.billing.totalAmount}} </p>
                        <p>   Exempted </p>
                        <p>  {{item.billing.totalAmount}} </p>
    
                        <!-- <label style="font-size: 41px">Total </label>
                       <p style="font-size: 41px"> {{item.billing.totalAmount}} {{item.currencyCurrencyName}} </p> -->
                    </div>

                </div>
        

               

                <div style="margin-top: 300px;">
                    <p> <strong>Thank you for your business.</strong></p>
                    <p> <strong>The payment will be automatically debited from your Visa credit card</strong></p>
                    <p> <strong>Sincerely yours,</strong></p>
                    <p> <strong>Infoseed</strong></p>
                </div>
 
            </div>


        </div>
    </div>

</div>




