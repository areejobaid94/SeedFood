<div bsModal #createOrEditModal="bs-modal" class="modal fade" tabindex="-1" role="dialog"
    aria-labelledby="createOrEditModal" aria-hidden="true" [config]="{ backdrop: 'static', keyboard: !saving }">
    <div class="modal-dialog modal-lg">
        <div *ngIf="theme != 'theme12'" class="modal-content" >
            <form  #templateForm="ngForm">
                <div class="modal-header">
                    <h4 class="modal-title">
                        <span>Add New Push Message</span>
                    </h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="close()" aria-label="Close">X</button>
                </div>
                <div class="modal-body">
                    <div class="row mb-1">
                        <div class="form-group col-6 ">
                            <label for="headerType">Message Format</label>
                            <select required class="form-control" id="headerType" name="headerType"
                                (change)="checkFormat(format)" [(ngModel)]="format" 
                                [(ngModel)]="format" [class.error]="submitted && messageFormat.invalid" #messageFormat="ngModel" >
                                <option *ngFor="let header of headerFormatEnum" [value]="header.id">{{header.name }}</option>
                            </select>
                            <p class="text-danger" *ngIf="submitted && messageFormat.invalid">{{l("ThisFieldIsRequired") }}</p> 

                        </div>
                    </div>
                    <div class="row mb-1" *ngIf="headerImageFlag">
                        <div class="col-6 ">
                            <div class="form-group">
                                <label for="file"> Image *</label>
                                <input required #file type="file" id="file" class="form-control" name="AttachmentId" accept="image/*"
                                    (change)="handleFileInput($event)"
                                    [class.error]="submitted && !fileToUpload"  />
                                    <p class="text-danger" *ngIf="submitted && !fileToUpload">{{l("ThisFieldIsRequired") }}</p> 

                            </div>
                        </div>
                    </div>
                    <div class="row mb-1" *ngIf="headerVideoFlag">
                    <div class="col-6 ">
                        <div class="form-group">
                            <label for="file"> Video *</label>
                            <input [disabled]="saving"  #file  type="file" id="file" class="form-control" name="AttachmentId" accept="video/mp4,video/x-m4v,video/*"
                                (change)="handleFileInput($event)"   [class.error]="submitted && !fileToUpload" required/>
                                <p class="text-danger" *ngIf="submitted && !fileToUpload">{{l("ThisFieldIsRequired") }}</p> 

                        </div>
                    </div>
            </div>
                <div class="row mb-1" *ngIf="headerDocumentFlag">
                    <div class="col-6 mb-1">
                        <div class="form-group">
                            <label for="file"> Document *</label>
                            <input required #file type="file" id="file" class="form-control" name="AttachmentId" accept=".xlsx,.xls,.doc, .docx,.ppt, .pptx,.txt,.pdf"
                                (change)="handleFileInput($event)" 
                                [class.error]="submitted && !fileToUpload"/>
                                <p class="text-danger" *ngIf="submitted && !fileToUpload">{{l("ThisFieldIsRequired") }}</p> 

                        </div>
                    </div>
                </div>
                <div class="row mb-1" *ngIf="headerTextFlag">
                    <div class="col-6 ">
                        <div class="form-group">
                            <label for="headerText">Message Text *</label>
                            <input required id="headerText" name="headerText" type="text" class="form-control"
                                [(ngModel)]="messageText" maxlength="60"
                                [class.error]="submitted && message.invalid" #message="ngModel"  />
                                <div class="row ">
                                    <div class="col-6">
                                        <p class="text-danger" *ngIf="submitted && message.invalid">{{l("ThisFieldIsRequired") }}</p>    
                                    </div>
                                    <div class="col-6 text-right p-0">
                                        <span class="text-muted p-0">
                                            1024 {{ l("character") }}
                                            </span>
                                    </div>
                                    
                                </div>

                        </div>
                    </div>
                </div>
                </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" (click)="close()">Cancel</button>
            <button id="btn" type="button" class="btn btn-primary blue" (click)="save()"
                [buttonBusy]="saving" [busyText]="l('SavingWithThreeDot')">
                <i class="fa fa-save"></i>
                <span>{{ l("Save") }}</span>
            </button>
        </div>
        </form>
    </div>
    <div  *ngIf="theme === 'theme12'">
    
        <div  class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">
                    <span>{{ l("addPushMessage") }}</span>
                </h4>
                <!-- <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="close()" aria-label="Close"></button> -->
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="close()"
                    aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row mb-1">
                    <div class="form-group col-6 ">
                        <label for="headerType">{{ l("messageFormat") }}*</label>
                        <select required    [ngClass]="darkModeService.currentSkin === 'dark' ? 'form-control-dark ' : 'form-control'" id="headerType" name="headerType"
                            (change)="checkFormat(format)" [(ngModel)]="format" [class.error]="submitted && messageFormat.invalid" #messageFormat="ngModel" >
                            <option *ngFor="let header of headerFormatEnum" [value]="header.id">
                               <span *ngIf="isArabic">{{ header.nameAr
                            }}</span> 
                            <span *ngIf="!isArabic">{{ header.nameEn
                            }}</span>
                        </option>
                        </select>
                        <p class="text-danger" *ngIf="submitted && messageFormat.invalid">{{l("ThisFieldIsRequired") }}</p> 
                    </div>
                </div>
                <div class="row mb-1" *ngIf="headerImageFlag">
                    <div class="col-6">
                        <div class="form-group">
                            <label for="file"> {{ l("Image") }} *</label>
                            <input  #file type="file" id="file" class="form-control" name="AttachmentId"
                                (change)="handleFileInput($event)" [class.error]="submitted && !fileToUpload"  required/>
                                <p class="text-danger" *ngIf="submitted && !fileToUpload">{{l("ThisFieldIsRequired") }}</p> 

                        </div>
                    </div>
                </div>
                <div class="row mb-1" *ngIf="headerVideoFlag">
                    <div class="col-6">
                        <div class="form-group">
                            <label for="file"> {{ l("video") }} *</label>
                            <input [disabled]="saving"   #file type="file" id="file"  class="form-control" name="AttachmentId"
                                (change)="handleFileInput($event)" 
                                [class.error]="submitted && !fileToUpload" required/>
                                <p class="text-danger" *ngIf="submitted && !fileToUpload">{{l("ThisFieldIsRequired") }}</p> 

                        </div>
                    </div>
                </div>
                <div class="row mb-1" *ngIf="headerDocumentFlag">
                    <div class="col-6 ">
                        <div class="form-group">
                            <label for="file"> {{ l("document") }} *</label>
                            <input  #file type="file" id="file"  class="form-control"  name="AttachmentId"
                                (change)="handleFileInput($event)" 
                                [class.error]="submitted && !fileToUpload" required/>
                                <p class="text-danger" *ngIf="submitted && !fileToUpload">{{l("ThisFieldIsRequired") }}</p> 

                        </div>
                    </div>
                </div>
                <div class="row mb-1" *ngIf="headerTextFlag">
                    <div class="col-6 ">
                        <div class="form-group">
                            <label for="headerText">{{ l("messageText") }} *</label>
                            <textarea id="headerText" name="headerText" type="text" class="form-control"
                                [(ngModel)]="messageText" maxlength="1024 "
                                required
                                [class.error]="submitted && message.invalid" #message="ngModel" >
                                </textarea>
                                <div class="row ">
                                    <div class="col-6">
                                        <p class="text-danger" *ngIf="submitted && message.invalid">{{l("ThisFieldIsRequired") }}</p>    
                                    </div>
                                    <div class="col-6 text-right p-0">
                                        <span class="text-muted p-0">
                                            1024 {{ l("character") }}
                                            </span>
                                    </div>
                                    
                                </div>

                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <!-- <button type="button" class="btn btn-default" (click)="close()">Cancel</button> -->
                <button id="btn" type="button" class="btn btn-primary-info " (click)="save()"
                    [buttonBusy]="saving"
                    [busyText]="l('SavingWithThreeDot')">
                    <i class="fa fa-save"></i>
                    <span>{{ l("Save") }}</span>
                </button>
            </div>
        </div>
 
</div>
</div>
</div>