<div id="OrderModel" bsModal #createOrEditModal="bs-modal" class="modal fade"
    tabindex="-1" role="dialog"
    aria-labelledby="createOrEditModal" aria-hidden="true" [config]="{ backdrop:
    'static' }">
    <div *ngIf="theme != 'theme12'" class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">
                    <span>{{ l("Details") }}</span>
                </h4>
                <button type="button" class="btn-close" aria-label="Close"
                    (click)="close()">X</button>

            </div>

            <div class="modal-body">
                <div class="row">
                    <div class="col-6">
                        <div class="row">
                            <div class="col-4 elestyle">
                                <strong>{{ l("Name") }} :</strong>
                            </div>
                            <div class="col-6 mb-3" style="font-size: 15px">
                                {{ item.customerCustomerName }}
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-4 elestyle">
                                <strong>{{ l("Mobile") }} :</strong>
                            </div>
                            <div class="col-6 mb-3" style="font-size: 15px">
                                {{ item.customerMobile }}
                            </div>
                        </div>

                        <div class="row" *ngIf="item.order.address">
                            <div class="col-4 elestyle">
                                <strong>{{ l("Address") }} :</strong>
                            </div>
                            <div class="col-6 mb-3" style="font-size: 15px">
                                <a href="{{ item.order.fromLocationDescribation
                                    }}" target="_blank">{{
                                    item.order.address }}</a>
                            </div>
                        </div>

                        <div class="row" *ngIf="item.streetName">
                            <div class="col-4 elestyle">
                                <strong>{{ l("Street (N)") }} :</strong>
                            </div>
                            <div class="col-6 mb-3" style="font-size: 15px">
                                {{ item.streetName }}
                            </div>
                        </div>

                        <div class="row" *ngIf="item.buildingNumber">
                            <div class="col-5 elestyle">
                                <strong>{{ l("Building#") }} :</strong>
                            </div>
                            <div class="col-6 mb-3" style="font-size: 15px">
                                {{ item.buildingNumber }}
                            </div>
                        </div>

                        <div class="row" *ngIf="item.floorNo">
                            <div class="col-4 elestyle">
                                <strong>{{ l("Floor #") }} :</strong>
                            </div>
                            <div class="col-6 mb-3" style="font-size: 15px">
                                {{ item.floorNo }}
                            </div>
                        </div>

                        <div class="row" *ngIf="item.apartmentNumber">
                            <div class="col-6 elestyle">
                                <strong>{{ l("Apartment#") }} :</strong>
                            </div>
                            <div class="col-5" style="font-size: 15px">
                                {{ item.apartmentNumber }}
                            </div>
                        </div>

                        <div class="row"></div>
                    </div>

                    <div class="col-6">
                        <div class="row">
                            <div class="col-4 elestyle">
                                <strong>{{ l("Order #") }} :</strong>
                            </div>
                            <div class="col-6 mb-3" style="font-size: 15px">
                                {{ item.orderNumber }}
                            </div>

                            <div class="col-4 elestyle">
                                <strong>{{ l("Time") }} :</strong>
                            </div>
                            <div class="col-6 mb-3" style="font-size: 15px">
                                {{ item.deliveryChangeDeliveryServiceProvider }}
                            </div>

                            <div class="col-4 elestyle">
                                <strong>{{ l("Status") }} :</strong>
                            </div>
                            <div class="col-6 mb-3" style="font-size: 15px">
                                {{ item.orderStatusName }}

                            </div>

                            <div class="col-4 elestyle">
                                <strong>{{ l("Type") }} :</strong>
                            </div>
                            <div class="col-6 mb-3" style="font-size: 15px">
                                {{ item.orderTypeName }}
                            </div>
                            <div class="col-5 elestyle"
                                *ngIf="item.order.isPreOrder">
                                <strong>{{ l("Pre Order Time") }} :</strong>
                            </div>
                            <div class="col-7 mb-3"
                                *ngIf="item.order.isPreOrder" style="font-size:
                                15px; color: blue">
                                {{ item.order.selectTime }} - {{
                                item.order.selectDay }}
                            </div>

                            <!---->
                            <div *ngIf="item.branchName" class=" col-4
                                elestyle">
                                <strong>{{ l("Area") }} :</strong>
                            </div>
                            <div *ngIf="item.branchName" class="col-6 mb-3"
                                style="font-size: 15px">
                                {{ item.branchName }}
                            </div>
                            <!---->



                            <!---->
                            <div *ngIf="item.areahName && item.orderTypeName ===
                                'Takeaway'" class=" col-4 elestyle">
                                <strong>{{ l("Branch") }} :</strong>
                            </div>
                            <div *ngIf="item.areahName && item.orderTypeName ===
                                'Takeaway'" class="col-6 mb-3" style="font-size:
                                15px">
                                {{ item.areahName }} / {{
                                item.areaCoordinatetowTak }}
                            </div>
                            <!---->


                            <!---->
                            <div *ngIf="item.areaCoordinatetowTak" class="col-5
                                elestyle">
                                <strong>{{ l("Branch") }} :</strong>
                            </div>
                            <div *ngIf="item.areaCoordinatetowTak" class="col-6
                                mb-3" style="font-size: 15px">{{ item.areahName
                                }}
                                / {{
                                item.areaCoordinatetowTak }}</div>

                            <!---->


                            <!---->
                            <div *ngIf="item.branchAreaName" class="col-5
                                elestyle">
                                <strong>{{ l("Branch") }} :</strong>
                            </div>
                            <div *ngIf="item.branchAreaName" class="col-6 mb-3"
                                style="font-size: 15px">{{
                                item.branchAreaName }} / {{
                                item.areahNametow }}</div>

                            <!---->
                        </div>
                    </div>
                </div>
                <div class="row" *ngIf="isTenantLoyal">
                    <div class="col-6">
                        <button  (click)="viewLoyaltyOrders.show(item.order.contactId)" type="button" class="btn btn-outline-primary-info">
                            {{ l("viewLoyaltyOrder") }}
                        </button>
                    </div>
                </div>


                <!-- <hr style="height: 2px; border-width: 0; color: rgb(47, 1, 253); background-color: rgb(0, 4, 255)" /> -->
                <div class="row align-items-center">
                    <div class="primeng-datatable-container col-12"
                        [busyIf]="primengTableHelper.isLoading">
                        <p-table #dataTable [value]="orderDetailList"
                            [scrollable]="true" ScrollWidth="100%">
                            <ng-template pTemplate="header">

                                <tr>
                                    <th [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'dark-table' : ''"
                                        *ngIf="appSession.tenantId === 34"
                                        style="width: 150px"
                                        pSortableColumn="sku">
                                        {{ l("Bar Code") }}
                                        <!-- <p-sortIcon field="sku"></p-sortIcon>-->
                                    </th>

                                    <th [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'dark-table' : ''"
                                        style="width: 100px"
                                        pSortableColumn="quantity">
                                        {{ l("Quantity") }}
                                        <!-- <p-sortIcon field="orderDetailList.quantity"></p-sortIcon> -->
                                    </th>

                                    <th [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'dark-table' : ''"
                                        style="width: 150px"
                                        pSortableColumn="lockByAgentName">
                                        {{ l("ItemName") }}
                                        <!-- <p-sortIcon field="itemName"></p-sortIcon> -->
                                    </th>

                                    <th [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'dark-table' : ''"
                                        *ngIf="isMall" style="width: 150px"
                                        pSortableColumn="lockByAgentName">
                                        {{ l("ItemNameEnglish") }}
                                        <!-- <p-sortIcon field="itemNameEnglish"></p-sortIcon> -->
                                    </th>

                                    <th [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'dark-table' : ''"
                                        style="width: 100px"
                                        pSortableColumn="unitPrice">
                                        {{ l("UnitPrice") }}
                                        <!-- <p-sortIcon field="orderDetailList.unitPrice"></p-sortIcon> -->
                                    </th>


                                    <th [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'dark-table' : ''"
                                        style="width: 100px"
                                        pSortableColumn="unitPoints">
                                        Unit Points
                                        <!-- <p-sortIcon field="orderDetailList.unitPrice"></p-sortIcon> -->
                                    </th>

                                    <th [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'dark-table' : ''"
                                        style="width: 100px"
                                        pSortableColumn="total">
                                        {{ l("Total") }}
                                        <!-- <p-sortIcon field="orderDetailList.total"></p-sortIcon> -->
                                    </th>
                                    <th [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'dark-table' : ''"
                                        style="width: 100px"
                                        pSortableColumn="totalPoints">
                                        Total Points
                                        <!-- <p-sortIcon field="orderDetailList.total"></p-sortIcon> -->
                                    </th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-record="$implicit"
                                let-i="rowIndex">


                                <tr
                                    [ngClass]="record.orderDetail.lstCategoryExtraOrderDetailsDto.length >
                                    0 ||
                                    record.orderDetail.itemNote?'border-bottom-0 ':'items-row'">
                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        *ngIf="appSession.tenantId === 34"
                                        style="width: 150px">
                                        <div>
                                            <img alt="BarCode"
                                                *ngIf="record.isBarcodeImg"
                                                src="{{ record.barcodeImg }}"
                                                width="130"
                                                height="50" />
                                            {{ record.barCode }}
                                        </div>
                                    </td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 100px">
                                        <div>
                                            {{ record.orderDetail.quantity }}
                                        </div>
                                        <div *ngFor="let group of
                                            record.orderDetail.extraOrderDetailsDtos"
                                            style="font-family: system-ui;
                                            font-size: smaller; color: #ff0047">
                                            {{ group.quantity }} <br />
                                        </div>
                                    </td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 150px">
                                        <div>
                                            {{ record.itemName }}
                                        </div>
                                        <div *ngFor="let group of
                                            record.orderDetail.extraOrderDetailsDtos"
                                            style="font-family: system-ui;
                                            font-size: smaller; color: #ff0047">
                                            {{ group.name }} <br />
                                        </div>
                                    </td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 150px" *ngIf="isMall">
                                        <div>
                                            {{ record.itemNameEnglish }}
                                        </div>
                                        <div *ngFor="let group of
                                            record.orderDetail.extraOrderDetailsDtos"
                                            style="font-family: system-ui;
                                            font-size: smaller; color: #ff0047">
                                            {{ group.nameEnglish }} <br />
                                        </div>
                                    </td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 100px">
                                        <div>{{
                                            record.orderDetail.stringUnitPrice
                                            }} <small> {{ currency }}
                                            </small> </div>
                                        <div *ngFor="let group of
                                            record.orderDetail.extraOrderDetailsDtos"
                                            style="font-family: system-ui;
                                            font-size: smaller; color: #ff0047">
                                            {{ group.stringUnitPrice }} <small>{{
                                                currency }}</small> <br />
                                        </div>
                                    </td>


                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 100px">
                                        <div>{{ record.orderDetail.unitPoints }}</div>
                                        <div *ngFor="let group of
                                            record.orderDetail.extraOrderDetailsDtos"
                                            style="font-family: system-ui;
                                            font-size: smaller; color: #ff0047">
                                            {{ group.totalLoyaltyPoints *
                                            record.orderDetail.quantity }} <br
                                                />
                                        </div>
                                    </td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 100px">
                                        <div>
                                            {{ record.orderDetail.stringTotal }}<small>
                                                {{ currency }}</small>
                                            <!-- {{record.orderDetail.UnitPrice}} * {{record.orderDetail.quantity}}JD -->
                                        </div>
                                        <div *ngFor="let group of
                                            record.orderDetail.extraOrderDetailsDtos"
                                            style="font-family: system-ui;
                                            font-size: smaller; color: #ff0047">
                                            {{ group.stringTotal }}<small> {{
                                                currency }}</small><br />
                                        </div>
                                    </td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 100px">
                                        <div>
                                            {{
                                            record.orderDetail.totalLoyaltyPoints
                                            }}
                                            <!-- {{record.orderDetail.UnitPrice}} * {{record.orderDetail.quantity}}JD -->
                                        </div>
                                        <div *ngFor="let group of
                                            record.orderDetail.extraOrderDetailsDtos"
                                            style="font-family: system-ui;
                                            font-size: smaller; color: #ff0047">
                                            {{ group.totalLoyaltyPoints *
                                            record.orderDetail.quantity }}<br />
                                        </div>
                                    </td>
                                </tr>

                                <tr [ngClass]="!record.orderDetail.itemNote?'border-bottom-0':'border-bottom-0 border-top-0'" class="
                                    color-primary-info options"
                                    *ngFor="let cat of
                                    record.orderDetail.lstCategoryExtraOrderDetailsDto">
                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        *ngIf="appSession.tenantId === 34"
                                        style="width: 100px"></td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 100px">
                                        <div *ngFor="let group of
                                            cat.lstExtraOrderDetailsDto">{{
                                            group.quantity
                                            }}
                                            * {{ record.orderDetail.quantity }}
                                            <br />
                                        </div>
                                    </td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 150px">
                                        <div>
                                            {{ cat.specificationName }}
                                        </div>
                                        <div *ngFor="let group of
                                            cat.lstExtraOrderDetailsDto">{{
                                            group.name }}
                                            <br />
                                        </div>
                                    </td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 150px" *ngIf="isMall">
                                        <div>
                                            {{ cat.specificationNameEnglish }}
                                        </div>
                                        <div *ngFor="let group of
                                            cat.lstExtraOrderDetailsDto">{{
                                            group.nameEnglish
                                            }} <br /></div>
                                    </td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 100px">
                                        <div *ngFor="let group of
                                            cat.lstExtraOrderDetailsDto">{{
                                            group.stringUnitPrice }}<small> {{
                                                currency }}</small> <br /></div>
                                    </td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 100px">
                                        <div *ngFor="let group of
                                            cat.lstExtraOrderDetailsDto">{{
                                            group.unitPoints }} <br /></div>
                                    </td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 100px">
                                        <!-- {{record.orderDetail.UnitPrice}} * {{record.orderDetail.quantity}}JD -->
                                        <div *ngFor="let group of
                                            cat.lstExtraOrderDetailsDto">{{
                                            group.stringTotal
                                            }} <small> {{ currency }}</small>
                                            <br /></div>
                                    </td>


                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 100px">
                                        <!-- {{record.orderDetail.UnitPrice}} * {{record.orderDetail.quantity}}JD -->
                                        <div *ngFor="let group of
                                            cat.lstExtraOrderDetailsDto">{{
                                            group.totalLoyaltyPoints
                                            }} <br /></div>
                                    </td>
                                </tr>

                                <tr class="bordre-top-0"
                                    *ngIf="record.orderDetail.itemNote">
                                    <td *ngIf="appSession.tenantId != 34"
                                        colspan="6"
                                        style="direction:rtl;text-align:right">
                                        <span class="text-danger">
                                            ملاحظات :
                                            {{record.orderDetail.itemNote}}
                                        </span>
                                    </td>

                                    <td *ngIf="appSession.tenantId === 34"
                                        colspan="7"
                                        style="direction:rtl;text-align:right">
                                        <span class="text-danger">
                                            ملاحظات :
                                            {{record.orderDetail.itemNote}}
                                        </span>
                                    </td>
                                </tr>
                            </ng-template>
                        </p-table>

                        <div class="row" *ngIf="item.orderTypeName ==
                            'Delivery'">
                            <div class="col-12 " style="font-size: 16px">
                                <strong>Delivery fees</strong> :{{
                                item.stringdeliveryCost }}
                                <small>{{currency}}</small>

                                <!-- <div *ngIf="isafterDeliveryCost">
                                    <strong>instead of :</strong> {{afterDeliveryCost}}

                                </div> -->
                            </div>
                        </div>

                        <div class="row" *ngIf="item.order.isDeliveryOffer">
                            <div class="col-12 ">
                                <strong> Delivery Before Discount:</strong> {{
                                item.order.deliveryOffer }} <small>{{currency}}</small>
                            </div>
                        </div>
                        <div class="row" *ngIf="item.order.isItemOffer">
                            <div class="col-12 ">
                                <strong> Discount Ammount:</strong> {{
                                item.order.itemOffer}} <small>%</small>
                            </div>
                        </div>
                    </div>
                    <!--<Primeng-Datatable-End>-->
                </div>



                <!-- <hr style="height: 2px; border-width: 0; color: rgb(241, 22, 22); background-color: rgb(153, 48, 48)" /> -->
                <div *ngIf="item.order.isSpecialRequest">
                    <div
                        *ngIf="!item.order.specialRequestText.startsWith('http')">
                        <div class="row">
                            <div class="col-4 mb-2" style="font-family:
                                system-ui; font-size: 20px">
                                <strong>ملاحظات :</strong>
                            </div>
                            <div class="col-10 mb-2"
                                style="font-family: system-ui; font-size: 16px;
                                color: brown; margin-left: -132px">
                                {{ item.order.specialRequestText }}
                            </div>
                        </div>
                    </div>

                    <div
                        *ngIf="item.order.specialRequestText.startsWith('http')">
                        <div class="row">
                            <div class="col-2 mb-2" style="font-family:
                                system-ui; font-size: 20px">
                                <strong>ملاحظات :</strong>
                            </div>
                            <div class="col-2 mb-2" style="font-family:
                                system-ui; font-size: 18px">
                                <a href="{{ item.order.specialRequestText }}"
                                    target="_blank">[File]</a>
                            </div>
                        </div>
                    </div>
                </div>
              
                <div *ngIf="item.order.buyType != '' && item.order.buyType !=
                    null">
                    <div class="row">
                        <div class="col-4 mb-2" style="font-family: system-ui;
                            font-size: 20px">
                            <strong>طريقة الدفع:</strong>
                        </div>
                        <div class="col-7 mb-2"
                            style="font-family: system-ui; font-size: 16px;
                            color: brown; margin-left: -132px">
                            {{ item.order.buyType }}
                        </div>
                    </div>
                </div>


                <div>
                    <div class="row">
                        <div class="col-2 mb-2" style="font-family: system-ui;
                            font-size: 20px">
                            <strong>SubTotal :</strong>
                        </div>
                        <div class="col-2 mb-2" style="font-family: system-ui;
                            font-size: 18px">{{ SubTotalString }} {{
                            currency }}</div>
                    </div>

                </div>

                <br />
                <br />

                <div class="center" style="text-align: center">
                    <p class="mt-1" style="font-size: 41px">Total: {{
                        item.order.stringTotal }} {{ currency }}</p>
                    <P class="mt-12" style="font-size: 41px">Total Points : {{
                        item.order.totalPoints }} </P>
                </div>
            </div>
            <div class="modal-footer">
                <div class="row"
                    *ngIf="(!item.order.isLockByAgent || item.order.agentId ==
                    appSession.user.id || isAdmin) && !isView">
                    <button [disabled]="saving" type="button" class="btn mr-1
                        p-1 btn-outline-success"
                        (click)="printPage()">{{ l("Print") }}</button>

                    <div *ngIf="item.orderTypeName == 'Delivery'">
                        <div *ngIf="!item.order.isPreOrder">
                            <textarea #userinput type="text" value="
                                Name : {{ item.customerCustomerName }}
                                &#13;&#10;&#13;&#10;
                                Mobile : {{ item.customerMobile }}
                                &#13;&#10;&#13;&#10;
                                Address : {{ item.order.address }}
                                &#13;&#10;&#13;&#10;
                                Branch : {{ item.branchAreaName }} / {{
                                item.areahNametow }} &#13;&#10;&#13;&#10;
                                From : {{ item.order.fromLocationDescribation }}
                                &#13;&#10;&#13;&#10;
                                Delivery fees: {{ item.stringdeliveryCost }}
                                &#13;&#10;&#13;&#10;
                                Total: {{ item.order.stringTotal }} {{ currency
                                }} &#13;&#10;&#13;&#10;
                                Total Points: {{ item.order.totalPoints }}
                                &#13;&#10;&#13;&#10;"
                                style="height: 1px; width: 1px; border: 0;
                                position: absolute; margin-top: 500px">
                            </textarea>
                            <button [disabled]="saving" type="button" class="btn
                                p-1 mr-1 btn-outline-info"
                                (click)="copyInputMessage(userinput)"
                                value="click to copy">
                                Copy Order
                            </button>
                        </div>
                        <div *ngIf="item.order.isPreOrder">
                            <textarea #userinput type="text" value="
                                Name : {{ item.customerCustomerName }}
                                &#13;&#10;&#13;&#10;
                                Mobile : {{ item.customerMobile }}
                                &#13;&#10;&#13;&#10;
                                Address : {{ item.order.address }}
                                &#13;&#10;&#13;&#10;
                                Branch : {{ item.branchAreaName }} / {{
                                item.areahNametow }} &#13;&#10;&#13;&#10;
                                From : {{ item.order.fromLocationDescribation }}
                                &#13;&#10;&#13;&#10;
                                Delivery fees: {{ item.stringdeliveryCost
                                }}&#13;&#10;&#13;&#10;
                                Pre Order: {{ item.order.selectTime }} - {{
                                item.order.selectDay }} &#13;&#10;&#13;&#10;
                                Total: {{ item.order.stringTotal }} {{ currency
                                }} &#13;&#10;&#13;&#10;
                                Total Points: {{ item.order.totalPoints }}
                                &#13;&#10;&#13;&#10;"
                                style="height: 1px; width: 1px; border: 0;
                                position: absolute; margin-top: 500px">
                            </textarea>
                            <button [disabled]="saving" type="button" class="p-1
                                mr-1 btn btn-outline-info"
                                (click)="copyInputMessage(userinput)"
                                value="click to copy">
                                Copy Order
                            </button>
                        </div>
                    </div>

                    <a [routerLink]="['/app/main/teamInbox/teamInbox12']"
                        [queryParams]="{ CustomerID: userId }"><button
                            class="btn btn-outline-dark mr-1 p-1">Chat</button></a>
                    <button [disabled]="item.orderStatusName == 'Done'"
                        type="button"
                        class="p-1 mr-1 btn btn-outline-success"
                        (click)="done(item.order.stringTotal)">
                        {{ l("Done") }}
                    </button>
                    <button [disabled]="item.orderStatusName == 'Deleted'"
                        type="button"
                        class="p-1 mr-1 btn btn-outline-danger"
                        (click)="delete(item.order.stringTotal)">
                        {{ l("Delete") }}
                    </button>
                </div>

                <button [disabled]="saving" type="button" class="btn mr-1 p-1
                    btn-outline-secondary"
                    (click)="closee(item.order.stringTotal)">{{ l("Close") }}</button>
            </div>
        </div>
    </div>
    <div *ngIf="theme === 'theme12'" class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">
                    <span>{{ l("Details") }}</span>
                </h4>
                <button type="button" class="p-1 btn-close"
                    data-bs-dismiss="modal" aria-label="Close" (click)="close()"
                    aria-label="Close"></button>
            </div>
            <div class="modal-body">

                <div class="row match-height">
                    <div class="row  p-0">
                        <div class="col-12 col-xl-6">
                            <h3>
                                {{ l("order") }} <span class="text-danger">#{{
                                    item.orderNumber }}</span>
                            </h3>
                        </div>
                    </div>
                    <div class="col-12 col-xl-8">
                        <div class=" p-1 card">
                            <h4>
                                {{ l("customerAndOrderDetails") }}
                            </h4>
                            <hr>
                            <div class="row ">
                                <div class="col-lg-6 col-sm-6 mb-1 media">
                                    <div class="avatar bg-light-primary-info
                                        rounded">
                                        <div class="avatar-content">
                                            <i class="fa fa-user font-medium-3">
                                            </i>
                                        </div>
                                    </div>
                                    <h6 class="ml-1 mt-auto">
                                        {{ l("customer") }}
                                    </h6>


                                </div>
                                <div class="col-lg-6 col-sm-6 text-center
                                    mt-auto mb-auto">
                                    <h6 class="text-right">
                                        {{
                                        item.customerCustomerName
                                        }}
                                    </h6>
                                </div>

                                <hr>
                                <!-------------------------------->
                                <div class="col-lg-6 col-sm-6 mb-1 media">
                                    <div class="avatar bg-light-primary-info
                                        rounded">
                                        <div class="avatar-content">
                                            <i class="fa fa-phone
                                                font-medium-3"></i>
                                        </div>
                                    </div>
                                    <h6 class="ml-1 mt-auto">
                                        {{ l("phoneNumber") }}
                                    </h6>

                                </div>
                                <div class="col-lg-6 col-sm-6 text-center
                                    mt-auto mb-auto">
                                    <h6 class="text-right">
                                        {{ item.customerMobile
                                        }}
                                    </h6>
                                </div>

                                <hr>

                                <!-------------------------------->
                                <div class="col-lg-6 col-sm-6 mb-1 media">
                                    <div class="avatar bg-light-primary-info
                                        rounded">
                                        <div class="avatar-content">
                                            <i class="fa fa-bullseye
                                                font-medium-3"></i>
                                        </div>
                                    </div>
                                    <h6 class="mt-auto ml-1">
                                        {{ l("type") }}
                                    </h6>

                                </div>
                                <div class="col-lg-6 col-sm-6 text-center
                                    mt-auto mb-auto">
                                    <h6 class="text-right">
                                        {{ item.orderTypeName }}
                                    </h6>
                                </div>

                                <hr *ngIf="item.branchAreaName">
                                <!-------------------------------->
                                <div *ngIf="item.branchAreaName" class="col-lg-6
                                    col-sm-6 mb-1 media">
                                    <div class="avatar bg-light-primary-info
                                        rounded">
                                        <div class="avatar-content">
                                            <i class="fa fa-map-pin
                                                font-medium-3"></i>
                                        </div>
                                    </div>
                                    <h6 class="mt-auto ml-1">
                                        {{ l("branch") }}
                                    </h6>

                                </div>
                                <div *ngIf="item.branchAreaName" class="col-lg-6
                                    col-sm-6 mt-auto mb-auto text-center">
                                    <h6 class="text-right">
                                        {{ item.branchAreaName }}
                                        / {{ item.areahNametow }}
                                    </h6>
                                </div>

                                <hr *ngIf="item.areahName && item.orderTypeName
                                    === 'Takeaway'">
                                <!-------------------------------->
                                <div *ngIf="item.areahName && item.orderTypeName
                                    === 'Takeaway'"
                                    class="col-lg-6 col-sm-6 mb-1 media">
                                    <div class="avatar bg-light-primary-info
                                        rounded">
                                        <div class="avatar-content">
                                            <i class="fa fa-map-pin
                                                font-medium-3"></i>
                                        </div>
                                    </div>
                                    <h6 class="ml-1 mt-auto">
                                        {{ l("branch") }}
                                    </h6>

                                </div>
                                <div *ngIf="item.areahName && item.orderTypeName
                                    === 'Takeaway'"
                                    class="col-lg-6 col-sm-6 mt-auto mb-auto
                                    text-center">
                                    <h6 class="text-right">
                                        {{ item.areahName }} / {{
                                        item.areaCoordinatetowTak }}
                                    </h6>
                                </div>

                                <hr>
                              
                            </div>
                            <div class="row" *ngIf="isTenantLoyal">
                                <div class="col-6">
                                    <button  (click)="viewLoyaltyOrders.show(item.order.contactId)" type="button" class="btn btn-outline-primary-info">
                                        {{ l("viewLoyaltyOrder") }}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-12 col-xl-4 " [ngClass]="isArabic ? '' : 'p-0'">
                        <div class="row match-height">
                            <div class=" p-1"
                                [ngClass]="darkModeService.currentSkin ===
                                'dark' ? 'dark-card' : 'card'">
                                <h4 [ngClass]="darkModeService.currentSkin ===
                                    'dark' ? 'dark-header ' : ''">
                                    {{ l("orderSummery") }}

                                </h4>
                                <hr>

                                <!-------------------------------->
                                <div class="row ">


                                    <div class="col-12 mb-1 media">
                                        <div class="avatar bg-light-primary-info
                                            rounded">
                                            <div class="avatar-content">
                                                <i class="fa fa-calendar
                                                    font-medium-3"></i>
                                            </div>
                                        </div>
                                        <h6 class="ml-1 mt-auto mb-auto">
                                            {{ l("created") }}
                                        </h6>

                                    </div>
                                    <div class="col-12 text-center">
                                        <h6>
                                            {{
                                            item.deliveryChangeDeliveryServiceProvider
                                            }}
                                        </h6>
                                    </div>
                                    <hr>
                                    <div class="row ">
                                        <div class="col-12 mb-1 media">
                                            <div class="avatar
                                                bg-light-primary-info rounded">
                                                <div class="avatar-content">
                                                    <i class="fa fa-bullseye
                                                        font-medium-3"></i>
                                                </div>
                                            </div>
                                            <h6 class="ml-1 mt-auto">
                                                {{ l("Status") }}
                                            </h6>
                                        </div>
                                        <div class="col-12 p-0 mb-1
                                            text-center">

                                            <h6>
                                                <span
                                                    *ngIf="item.orderStatusName
                                                    == 'Done'"
                                                    class="text-center badge
                                                    badge-pill
                                                    badge-light-success ">
                                                   {{ l("done") }}
                                                </span> <span
                                                    *ngIf="item.orderStatusName
                                                    == 'Deleted'"
                                                    class="text-center badge
                                                    badge-pill
                                                    badge-light-warning ">
                                                    {{ l("deleted") }}
                                                </span> <span
                                                    *ngIf="item.orderStatusName
                                                    == 'Pending'"
                                                    class="text-center badge
                                                    badge-pill
                                                    badge-light-danger ">
                                                    {{ l("pending") }}
                                                </span>
                                                <span
                                                    *ngIf="item.orderStatusName
                                                    == 'Canceled'"
                                                    class="text-center badge
                                                    badge-pill
                                                    badge-light-secondary ">
                                                    {{ l("canceled") }}
                                                </span>
                                                <span
                                                    *ngIf="item.orderStatusName
                                                    == 'Pre_Order'"
                                                    class="text-center badge
                                                    badge-pill
                                                    badge-light-primary">
                                                    {{ l("preOrder") }}
                                                </span>
                                            </h6>
                                        </div>
                                    </div>

                                    <hr *ngIf="item.order.isPreOrder">
                                    <div class="row"
                                        *ngIf="item.order.isPreOrder">
                                        <div class="col-lg-12 col-sm-12 mb-1
                                            media">
                                            <div class="avatar
                                                bg-light-primary-info rounded">
                                                <div class="avatar-content">
                                                    <i class="fa fa-calendar
                                                        font-medium-3"></i>
                                                </div>
                                            </div>
                                            <h6 class="mt-auto ml-1">
                                                Pre Order Time
                                            </h6>
                                        </div>
                                        <div class="col-12 mb-1 text-center">
                                            <h6>
                                                {{ item.order.selectTime }}
                                                - {{ item.order.selectDay }}
                                            </h6>
                                        </div>
                                    </div>

                                    <hr>
                                </div>
                            </div>
                        </div>


                        <div class="row match-height"
                            *ngIf="item.order.address">
                            <div class=" p-1 card">
                                <h4>
                                    {{ l("orderAddress") }}
                                </h4>
                                <!-------------------------------->
                                <div class="row">
                                    <div *ngIf="item.order.address"
                                        class="col-lg-6 col-sm-6 mb-1 media">
                                        <div class="avatar bg-light-primary-info
                                            rounded">
                                            <div class="avatar-content">
                                                <i class="fa fa-map-pin
                                                    font-medium-3"></i>
                                            </div>
                                        </div>
                                        <h6 class="mt-auto ml-1">
                                            {{ l("Address") }}
                                        </h6>

                                    </div>
                                    <div *ngIf="item.order.address" class="p-0
                                        row mb-1 text-center">
                                        <a href="{{
                                            item.order.fromLocationDescribation
                                            }}" target="_blank">
                                            <h6 class="">
                                                {{item.order.address }}
                                            </h6>
                                        </a>
                                    </div>
                                </div>

                                <hr>
                            </div>
                        </div>

                        <div class="row match-height" *ngIf="item.streetName ||
                            item.buildingNumber || item.floorNo ||
                            item.apartmentNumber || item.branchName

                            ">
                            <div class=" p-1 card">
                                <h4>
                                    {{ l("orderAddress") }}
                                </h4>
                                <!-------------------------------->
                                <div class="row" *ngIf="item.streetName">
                                    <div class="col-lg-6 col-sm-6 mb-1 media">
                                        <div class="avatar bg-light-primary-info
                                            rounded">
                                            <div class="avatar-content">
                                                <i class="fa fa-map-pin
                                                    font-medium-3"></i>
                                            </div>
                                        </div>
                                        <h6 class="mt-auto ml-1">
                                            {{ l("street") }}
                                        </h6>

                                    </div>
                                    <div class="col-lg-6 p-0 col-sm-6 mb-1
                                        text-center">

                                        <h6 class="text-right">
                                            {{ item.streetName }}
                                        </h6>

                                    </div>
                                </div>
                                <hr *ngIf="item.buildingNumber">
                                <div class="row" *ngIf="item.buildingNumber">
                                    <div class="col-lg-6 col-sm-6 mb-1 media">
                                        <div class="avatar bg-light-primary-info
                                            rounded">
                                            <div class="avatar-content">
                                                <i class="fa fa-map-pin
                                                    font-medium-3"></i>
                                            </div>
                                        </div>
                                        <h6 class="mt-auto ml-1">
                                            {{ l("building") }} #
                                        </h6>

                                    </div>
                                    <div class="col-lg-6 p-0 col-sm-6 mb-1
                                        text-center">

                                        <h6 class="text-right">
                                            {{ item.buildingNumber }}
                                        </h6>
                                    </div>
                                </div>

                                <hr *ngIf="item.floorNo">
                                <div class="row" *ngIf="item.floorNo">
                                    <div class="col-lg-6 col-sm-6 mb-1 media">
                                        <div class="avatar bg-light-primary-info
                                            rounded">
                                            <div class="avatar-content">
                                                <i class="fa fa-map-pin
                                                    font-medium-3"></i>
                                            </div>
                                        </div>
                                        <h6 class="mt-auto ml-1">
                                            {{ l("floor") }} #
                                        </h6>
                                    </div>
                                    <div class="col-lg-6 p-0 col-sm-6 mb-1
                                        text-center">

                                        <h6 class="text-right">
                                            {{ item.floorNo }}
                                        </h6>
                                    </div>
                                </div>

                                <hr *ngIf="item.apartmentNumber">
                                <div class="row" *ngIf="item.apartmentNumber">
                                    <div class="col-lg-6 col-sm-6 mb-1 media">
                                        <div class="avatar bg-light-primary-info
                                            rounded">
                                            <div class="avatar-content">
                                                <i class="fa fa-map-pin
                                                    font-medium-3"></i>
                                            </div>
                                        </div>
                                        <h6 class="ml-1 mt-auto">
                                            Apartment Number
                                        </h6>
                                    </div>
                                    <div class="col-lg-6 p-0 col-sm-6 mb-1
                                        text-center">

                                        <h6 class="text-right">
                                            {{ item.apartmentNumber }}
                                        </h6>
                                    </div>
                                </div>

                                <hr *ngIf="item.branchName">
                                <div class="row" *ngIf="item.branchName">
                                    <div class="col-lg-6 col-sm-6 mb-1 media">
                                        <div class="avatar bg-light-primary-info
                                            rounded">
                                            <div class="avatar-content">
                                                <i class="fa fa-map-pin
                                                    font-medium-3"></i>
                                            </div>
                                        </div>
                                        <h6 class="ml-1 mt-auto">
                                            Area
                                        </h6>
                                    </div>
                                    <div class="col-lg-6 p-0 col-sm-6 mb-1
                                        text-center">

                                        <h6 class="text-right">
                                            {{ item.branchName }}
                                        </h6>
                                    </div>
                                </div>
                                <hr>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="align-items-center">
                    <div class="primeng-datatable-container"
                        [busyIf]="primengTableHelper.isLoading">
                        <p-table #dataTable [value]="orderDetailList"
                            [scrollable]="true" ScrollWidth="100%">
                            <ng-template pTemplate="header">

                                <tr>
                                    <th [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'dark-table' : ''"
                                        *ngIf="appSession.tenantId === 34"
                                        style="width: 150px"
                                        pSortableColumn="sku">
                                        {{ l("Bar Code") }}
                                        <!-- <p-sortIcon field="sku"></p-sortIcon>-->
                                    </th>

                                    <th [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'dark-table' : ''"
                                        style="width: 100px"
                                        pSortableColumn="quantity">
                                        {{ l("quantity") }}
                                        <!-- <p-sortIcon field="orderDetailList.quantity"></p-sortIcon> -->
                                    </th>

                                    <th  [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'dark-table' : ''"
                                        style="width: 150px"
                                        pSortableColumn="lockByAgentName">
                                        {{ l("itemNameAr") }}
                                        <!-- <p-sortIcon field="itemName"></p-sortIcon> -->
                                    </th>

                                  

                                    <th [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'dark-table' : ''"
                                        *ngIf="isMall" style="width: 150px"
                                        pSortableColumn="lockByAgentName">
                                        {{ l("itemNameEn") }}
                                        <!-- <p-sortIcon field="itemNameEnglish"></p-sortIcon> -->
                                    </th>

                                    <th [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'dark-table' : ''"
                                        style="width: 100px"
                                        pSortableColumn="unitPrice">
                                        {{ l("Price") }}
                                        <!-- <p-sortIcon field="orderDetailList.unitPrice"></p-sortIcon> -->
                                    </th>


                                    <th [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'dark-table' : ''"
                                        style="width: 100px"
                                        pSortableColumn="unitPoints">
                                        {{ l("unitPoints") }}
                                        <!-- <p-sortIcon field="orderDetailList.unitPrice"></p-sortIcon> -->
                                    </th>

                                    <th [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'dark-table' : ''"
                                        style="width: 100px"
                                        pSortableColumn="total">
                                        {{ l("total") }}
                                        <!-- <p-sortIcon field="orderDetailList.total"></p-sortIcon> -->
                                    </th>
                                    <th [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'dark-table' : ''"
                                        style="width: 100px"
                                        pSortableColumn="totalPoints">
                                        {{ l("totalPoints") }}
                                        <!-- <p-sortIcon field="orderDetailList.total"></p-sortIcon> -->
                                    </th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-record="$implicit"
                                let-i="rowIndex">


                                <tr
                                    [ngClass]="record.orderDetail.lstCategoryExtraOrderDetailsDto.length>
                                    0 ||
                                    record.orderDetail.itemNote?'border-bottom-0':'items-row'">
                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        *ngIf="appSession.tenantId === 34"
                                        style="width: 150px">
                                        <div>
                                            <img alt="BarCode"
                                                *ngIf="record.isBarcodeImg"
                                                src="{{ record.barcodeImg }}"
                                                width="130"
                                                height="50" />
                                            {{ record.barCode }}
                                        </div>
                                    </td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 100px">
                                        <div>
                                            {{ record.orderDetail.quantity }}
                                        </div>
                                        <div *ngFor="let group of
                                            record.orderDetail.extraOrderDetailsDtos"
                                            style="font-family: system-ui;
                                            font-size: smaller; color: #ff0047">
                                            {{ group.quantity }} <br />
                                        </div>
                                    </td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 150px">
                                        <div>
                                            {{ record.itemName }}
                                        </div>
                                        <div *ngFor="let group of
                                            record.orderDetail.extraOrderDetailsDtos"
                                            style="font-family: system-ui;
                                            font-size: smaller; color: #ff0047">
                                            {{ group.name }} <br />
                                        </div>
                                    </td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 150px" *ngIf="isMall">
                                        <div>
                                            {{ record.itemNameEnglish }}
                                        </div>
                                        <div *ngFor="let group of
                                            record.orderDetail.extraOrderDetailsDtos"
                                            style="font-family: system-ui;
                                            font-size: smaller; color: #ff0047">
                                            {{ group.nameEnglish }} <br />
                                        </div>
                                    </td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 100px">
                                        <div>{{
                                            record.orderDetail.stringUnitPrice
                                            }} <small> {{ currency }}
                                            </small> </div>
                                        <div *ngFor="let group of
                                            record.orderDetail.extraOrderDetailsDtos"
                                            style="font-family: system-ui;
                                            font-size: smaller; color: #ff0047">
                                            {{ group.stringUnitPrice }} <small>{{
                                                currency }}</small> <br />
                                        </div>
                                    </td>


                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 100px">
                                        <div>{{ record.orderDetail.unitPoints }}</div>
                                        <div *ngFor="let group of
                                            record.orderDetail.extraOrderDetailsDtos"
                                            style="font-family: system-ui;
                                            font-size: smaller; color: #ff0047">
                                            {{ group.totalLoyaltyPoints *
                                            record.orderDetail.quantity }} <br
                                                />
                                        </div>
                                    </td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 100px">
                                        <div>
                                            {{ record.orderDetail.stringTotal }}<small>
                                                {{ currency }}</small>
                                            <!-- {{record.orderDetail.UnitPrice}} * {{record.orderDetail.quantity}}JD -->
                                        </div>
                                        <div *ngFor="let group of
                                            record.orderDetail.extraOrderDetailsDtos"
                                            style="font-family: system-ui;
                                            font-size: smaller; color: #ff0047">
                                            {{ group.stringTotal }}<small> {{
                                                currency }}</small><br />
                                        </div>
                                    </td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 100px">
                                        <div>
                                            {{
                                            record.orderDetail.totalLoyaltyPoints
                                            }}
                                            <!-- {{record.orderDetail.UnitPrice}} * {{record.orderDetail.quantity}}JD -->
                                        </div>
                                        <div *ngFor="let group of
                                            record.orderDetail.extraOrderDetailsDtos"
                                            style="font-family: system-ui;
                                            font-size: smaller; color: #ff0047">
                                            {{ group.totalLoyaltyPoints *
                                            record.orderDetail.quantity }}<br />
                                        </div>
                                    </td>
                                </tr>

                                <tr [ngClass]="!record.orderDetail.itemNote ?
                                    'border-bottom':'border-bottom-0  border-top-0'" class="
                                    color-primary-info options"
                                    *ngFor="let cat of
                                    record.orderDetail.lstCategoryExtraOrderDetailsDto">
                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        *ngIf="appSession.tenantId === 34"
                                        style="width: 100px"></td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 100px">
                                        <div *ngFor="let group of
                                            cat.lstExtraOrderDetailsDto">{{
                                            group.quantity
                                            }}
                                            * {{ record.orderDetail.quantity }}
                                            <br />
                                        </div>
                                    </td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 150px">
                                        <div>
                                            {{ cat.specificationName }}
                                        </div>
                                        <div *ngFor="let group of
                                            cat.lstExtraOrderDetailsDto">{{
                                            group.name }}
                                            <br />
                                        </div>
                                    </td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 150px" *ngIf="isMall">
                                        <div>
                                            {{ cat.specificationNameEnglish }}
                                        </div>
                                        <div *ngFor="let group of
                                            cat.lstExtraOrderDetailsDto">{{
                                            group.nameEnglish
                                            }} <br /></div>
                                    </td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 100px">
                                        <div *ngFor="let group of
                                            cat.lstExtraOrderDetailsDto">{{
                                            group.stringUnitPrice }}<small> {{
                                                currency }}</small> <br /></div>
                                    </td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 100px">
                                        <div *ngFor="let group of
                                            cat.lstExtraOrderDetailsDto">{{
                                            group.unitPoints }} <br /></div>
                                    </td>

                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 100px">
                                        <!-- {{record.orderDetail.UnitPrice}} * {{record.orderDetail.quantity}}JD -->
                                        <div *ngFor="let group of
                                            cat.lstExtraOrderDetailsDto">{{
                                            group.stringTotal
                                            }} <small> {{ currency }}</small>
                                            <br /></div>
                                    </td>


                                    <td [ngClass]="darkModeService.currentSkin
                                        === 'dark' ? 'table-dark' : ''"
                                        style="width: 100px">
                                        <!-- {{record.orderDetail.UnitPrice}} * {{record.orderDetail.quantity}}JD -->
                                        <div *ngFor="let group of
                                            cat.lstExtraOrderDetailsDto">{{
                                            group.totalLoyaltyPoints
                                            }} <br /></div>
                                    </td>
                                </tr>

                                <tr 
                                    *ngIf="record.orderDetail.itemNote">
                                    <td *ngIf="appSession.tenantId != 34"
                                        colspan="6"
                                        style="direction:rtl;text-align:right">
                                        <span class="text-danger">
                                            {{ l("note") }} :
                                            {{record.orderDetail.itemNote}}
                                        </span>
                                    </td>

                                    <td *ngIf="appSession.tenantId === 34"
                                        colspan="7"
                                        style="direction:rtl;text-align:right">
                                        <span class="text-danger">
                                            {{ l("note") }} :
                                            {{record.orderDetail.itemNote}}
                                        </span>
                                    </td>
                                </tr>
                            </ng-template>
                        </p-table>
                    </div>
                    <!--price details-->
                    <div class="row mt-2">

                        <div class="col-12 col-xl-6 mt-auto mb-1 ">
                            <div *ngIf="(!item.order.isLockByAgent ||
                                item.order.agentId == appSession.user.id ||
                                isAdmin) && !isView">
                                <button class="btn btn-primary-info mr-1"
                                    type="button"
                                    (click)="done(item.order.stringTotal)"
                                    [ngbPopover]="'done' | localize"
                                    triggers="mouseenter:mouseleave">
                                    <i class="fa fa-check">
                                    </i>
                                </button>

                                <button class="btn btn-danger mr-1"
                                [ngbPopover]="'Delete' | localize"
                                    triggers="mouseenter:mouseleave"
                                    type="button"
                                    (click)="delete(item.order.stringTotal)">
                                    <i class="fa fa-times">
                                    </i>
                                </button>
                                <span>
                                    <button class="btn btn-secondary mr-1"
                                    [ngbPopover]="'Print' | localize"
                                        triggers="mouseenter:mouseleave"
                                        (click)="printPage()">
                                        <i class="fa fa-print">
                                        </i>
                                    </button>
                                    <span *ngIf="item.orderTypeName ==
                                        'Delivery'">
                                        <button *ngIf="!item.order.isPreOrder"
                                            class=" mr-1 btn btn-secondary"
                                            [ngbPopover]="'copy' | localize"
                                            triggers="mouseenter:mouseleave"
                                            (click)="copyInputMessage(userinput)">
                                            <i class="fa fa-copy">
                                            </i>
                                            <textarea #userinput type="text"
                                                value="
                                                Name : {{
                                                item.customerCustomerName }}
                                                &#13;&#10;&#13;&#10;
                                                Mobile : {{ item.customerMobile
                                                }} &#13;&#10;&#13;&#10;
                                                Address : {{ item.order.address
                                                }} &#13;&#10;&#13;&#10;
                                                Branch : {{ item.branchAreaName
                                                }} / {{ item.areahNametow }}
                                                &#13;&#10;&#13;&#10;
                                                From : {{
                                                item.order.fromLocationDescribation
                                                }} &#13;&#10;&#13;&#10;
                                                Delivery fees: {{
                                                item.stringdeliveryCost }}
                                                &#13;&#10;&#13;&#10;
                                                Total: {{ item.order.stringTotal
                                                }} {{ currency }}
                                                &#13;&#10;&#13;&#10;
                                                Total Points: {{
                                                item.order.totalPoints }}
                                                &#13;&#10;&#13;&#10;
                                                " style="height: 1px; width:
                                                1px; border: 0; position:
                                                absolute; margin-top: 500px">
                                            </textarea>
                                        </button>
                                        <button *ngIf="item.order.isPreOrder"
                                            class=" mr-1 btn btn-primary-info"
                                            [ngbPopover]="'copy' | localize"
                                            triggers="mouseenter:mouseleave"
                                            (click)="copyInputMessage(userinput)">
                                            <i class="fa fa-copy">
                                            </i>
                                            <textarea #userinput type="text"
                                                value="
                                                Name : {{
                                                item.customerCustomerName }}
                                                &#13;&#10;&#13;&#10;
                                                Mobile : {{ item.customerMobile
                                                }} &#13;&#10;&#13;&#10;
                                                Address : {{ item.order.address
                                                }} &#13;&#10;&#13;&#10;
                                                Branch : {{ item.branchAreaName
                                                }} / {{ item.areahNametow }}
                                                &#13;&#10;&#13;&#10;
                                                From : {{
                                                item.order.fromLocationDescribation
                                                }} &#13;&#10;&#13;&#10;
                                                Delivery fees: {{
                                                item.stringdeliveryCost
                                                }}&#13;&#10;&#13;&#10;
                                                Pre Order: {{
                                                item.order.selectTime }} - {{
                                                item.order.selectDay }}
                                                &#13;&#10;&#13;&#10;
                                                Total: {{ item.order.stringTotal
                                                }} {{ currency }}
                                                &#13;&#10;&#13;&#10;
                                                Total Points: {{
                                                item.order.totalPoints }}
                                                &#13;&#10;&#13;&#10;"
                                                style="height: 1px; width: 1px;
                                                border: 0; position: absolute;
                                                margin-top: 500px">
                                            </textarea>
                                        </button>

                                    </span>
                                    <a
                                        [routerLink]="['/app/main/teamInbox/teamInbox12']"
                                        [queryParams]="{ CustomerID: userId }"
                                        class=" mr-1">
                                        <button class="btn btn-warning"
                                        [ngbPopover]="'Chat' | localize"
                                            triggers="mouseenter:mouseleave">
                                            <i class=" fas fa-comment-dots">
                                            </i>
                                        </button>
                                    </a>
                                </span>
                            </div>
                        </div>

                        <div class="col-12 col-xl-6 text-right p-0">
                            <div class=" p-1">
                                <div class="row ">
                                    <div class="col-6 text-right">
                                    </div>
                                    <div class="col-6 text-right">
                                        <h6 class="text-primary-info"><strong>
                                            {{ l("priceDetails") }}</strong></h6>
                                    </div>
                                </div>
                                <div class="row"
                                    *ngIf="item.order.isDeliveryOffer">
                                    <div class="col-12 text-right">
                                        {{ l("deliveryBeforeDiscount") }}: {{
                                        item.order.deliveryOffer }} <small>{{currency}}</small>
                                    </div>
                                </div>
                                <div class="row" *ngIf="item.orderTypeName ==
                                    'Delivery'">
                                    <div class="col-12 text-right">
                                        {{ l("deliveryFees") }}: {{
                                        item.stringdeliveryCost }} <small>{{currency}}</small>
                                    </div>
                                </div>

                                <div class="row ">
                                    <div class="col-12 text-end">
                                       {{ l("subTotal") }}: 
                                        {{ getTotalSumString() }} 
                                        <small>{{ currency }}</small>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12 text-right">
                                        <strong> {{ l("totalPoints") }}:</strong> <strong>
                                            {{ item.order.totalPoints }}</strong>
                                    </div>
                                </div>

                                <div class="row" *ngIf="item.order.isItemOffer">
                                    <div class="col-12 text-right">
                                        <strong>{{ l("discount") }}: {{
                                        item.order.itemOffer}} <small>%</small>
                                        </strong>
                                    </div>
                                </div>

                                <!-- <div class="row">
                                    <div class="col-12 text-right">
                                        {{ l("subTotal") }}: {{ SubTotalString }}<small>
                                            {{ currency}}</small>
                                    </div>
                                </div> -->


                                
                                <div class="row">
                                    <div class="col-12 text-right">
                                        <strong> {{ l("Tax") }}:</strong> <strong>
                                            {{ item.order.tax }}%</strong>
                                    </div>
                                </div>

                                   <div class="row">
                                    <div class="col-12 text-right">
                                        <strong> {{ l("total") }} :</strong> <strong> {{
                                            item.order.stringTotal }} <small> {{
                                                currency
                                                }}</small></strong>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>


                    <!--<Primeng-Datatable-End>-->
                </div>

                <div *ngIf="item.order.isSpecialRequest">
                    <br />
                    <hr />
                    <div
                        *ngIf="!item.order.specialRequestText.startsWith('http')">
                        <div class="row">
                            <div style=" direction: rtl;" class="col-12 mb-2
                                text-right">
                                <strong> {{ l("note") }} : {{
                                    item.order.specialRequestText }}</strong>
                            </div>

                        </div>
                    </div>

                    <div
                        *ngIf="item.order.specialRequestText.startsWith('http')">
                        <div class="row">
                            <div class="col-12 mb-2 text-right" style="
                                direction: rtl;">
                                <strong> {{ l("note") }} :
                                    <a href="{{ item.order.specialRequestText
                                        }}" target="_blank">[File]</a>
                                </strong>
                            </div>
                        </div>
                    </div>
                </div>

                <div *ngIf="item.order.buyType != '' && item.order.buyType !=
                    null">
                    <div class="row">
                        <div style=" direction: rtl;" class="col-12 mb-2
                            text-right">
                            <strong>طريقة الدفع: </strong> {{ item.order.buyType
                            }}
                        </div>
                    </div>

       
                </div>

                <div class="modal-footer">
                    <div class="row d-none d-lg-block">
                        <div class="col-12">
                            <button [disabled]="saving" type="button" class="btn
                                btn-default waves-effect"
                                (click)="closee(item.order.stringTotal)">
                                {{ l("Close") }}
                            </button>
                        </div>
                    </div>

                </div>

            </div>

        </div>
    </div>
</div>



<div hidden id="componentID" bsModal #createOrEditModal="bs-modal" class="modal
    fade" tabindex="-1" role="dialog"
    aria-labelledby="createOrEditModal" aria-hidden="true" [config]="{backdrop:
    'static'}">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="d-flex justify-content-between flex-md-row flex-column
                invoice-spacing mt-0">
                <div>
                    <div class="logo-wrapper">
                   
                    </div>

                    <p class="card-text mb-25">{{item.areahNametow}}</p>
                    <p class="card-text mb-0">{{phoneNumber}}</p>
                </div>
                <div class="mt-md-0">
                    <h4 class="invoice-title">
                        Invoice
                        <span class="invoice-number">#{{item.orderNumber}}</span>
                    </h4>
                  
                </div>
            </div>

            <hr style="border-top: dotted 1px #000 !important;">


            <!-- Address And Contact Starts -->
            <div class="card-body invoice-padding pt-0">
                <div class="row invoice-spacing">
                    <div class="col-xl-8 p-0">
                        <h6 class="mb-2">Invoice To:</h6>
                        <h6 class="mb-25">{{item.customerCustomerName }}</h6>
                        <p class="card-text mb-25" >{{item.customerMobile}}</p>
                        <p class="card-text mb-25" *ngIf="item.order.address">{{item.order.address
                            }}</p>
                        <p class="card-text mb-25" *ngIf="item.branchName">{{item.branchName
                            }}</p>
                        <p class="card-text mb-0" *ngIf="item.areahName"> {{
                            item.areahName }}</p>
                        <p class="card-text mb-0"> {{ item.orderTypeName }}</p>
                        <p class="card-text mb-0" *ngIf="item.order.isPreOrder">
                            {{ item.order.selectTime }} - {{
                            item.order.selectDay }}</p>
                        <p class="card-text mb-0" *ngIf="item.branchAreaName">
                            {{item.branchAreaName }} / {{ item.areahNametow }}</p>
                            <div class="invoice-date-wrapper">
                                <p class="invoice-date-title"> Date:</p>
                                <p class="invoice-date">{{
                                    item.deliveryChangeDeliveryServiceProvider}}</p>
                            </div>
                    </div>
                    <!-- <div class="col-xl-4 p-0 mt-xl-0 mt-2">
            <h6 class="mb-2">Payment Details:</h6>
            <table>
              <tbody>
                <tr>
                  <td class="pr-1">Total Due:</td>
                  <td>
                    <span class="font-weight-bold">{{ paymentDetails.totalDue }}</span>
                  </td>
                </tr>
                <tr>
                  <td class="pr-1">Bank name:</td>
                  <td>{{ paymentDetails.bankName }}</td>
                </tr>
                <tr>
                  <td class="pr-1">Country:</td>
                  <td>{{ paymentDetails.country }}</td>
                </tr>
                <tr>
                  <td class="pr-1">IBAN:</td>
                  <td>{{ paymentDetails.iban }}</td>
                </tr>
                <tr>
                  <td class="pr-1">SWIFT code:</td>
                  <td>{{ paymentDetails.swiftCode }}</td>
                </tr>
              </tbody>
            </table>
          </div> -->
                </div>
            </div>
            <!-- Address And Contact Ends -->

            <hr style="border-top: dotted 1px #000 !important;">


            <p-table #dataTable [value]="orderDetailList" [scrollable]="true"
                ScrollWidth="100%">
                <ng-template pTemplate="header">

                    <tr>
                        <th [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'dark-table' : ''"
                           style="width:150px"
                            *ngIf="appSession.tenantId === 34"  pSortableColumn="sku">
                            {{ l("Bar Code") }}
                            <!-- <p-sortIcon field="sku"></p-sortIcon>-->
                        </th>

                        <th [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'dark-table' : ''"
                            pSortableColumn="quantity">
                            {{ l("Quantity") }}
                            <!-- <p-sortIcon field="orderDetailList.quantity"></p-sortIcon> -->
                        </th>

                        <th [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'dark-table' : ''"
                         
                            pSortableColumn="lockByAgentName">
                            {{ l("ItemName") }}
                            <!-- <p-sortIcon field="itemName"></p-sortIcon> -->
                        </th>
<!-- 
                        <th [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'dark-table' : ''"
                            *ngIf="isMall"
                            pSortableColumn="lockByAgentName">
                            {{ l("ItemName") }} En
                        </th> -->

                        <th [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'dark-table' : ''"
                            pSortableColumn="unitPrice">
                            {{ l("UnitPrice") }}
                            <!-- <p-sortIcon field="orderDetailList.unitPrice"></p-sortIcon> -->
                        </th>


                        <th [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'dark-table' : ''"
                            pSortableColumn="unitPoints">
                            Unit Points
                            <!-- <p-sortIcon field="orderDetailList.unitPrice"></p-sortIcon> -->
                        </th>

                        <th [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'dark-table' : ''"
                            pSortableColumn="total">
                            {{ l("Total") }}
                            <!-- <p-sortIcon field="orderDetailList.total"></p-sortIcon> -->
                        </th>
                        <th [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'dark-table' : ''"
                           pSortableColumn="totalPoints">
                            Total Points
                            <!-- <p-sortIcon field="orderDetailList.total"></p-sortIcon> -->
                        </th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-record="$implicit"
                    let-i="rowIndex">


                    <tr
                        [ngClass]="record.orderDetail.lstCategoryExtraOrderDetailsDto.length>
                        0 || record.orderDetail.itemNote?'border-bottom-0':'items-row'">
                        <td [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'table-dark' : ''"
                            style="width:150px"
                            *ngIf="appSession.tenantId === 34">
                            <div>
                                <img alt="BarCode" *ngIf="record.isBarcodeImg"
                                    src="{{ record.barcodeImg }}" width="130"
                                    height="50" />
                                {{ record.barCode }}
                            </div>
                        </td>

                        <td [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'table-dark' : ''"
                           >
                            <div>
                                {{ record.orderDetail.quantity }}
                            </div>
                            <div *ngFor="let group of
                                record.orderDetail.extraOrderDetailsDtos"
                                style="font-family: system-ui; font-size:
                                smaller; color: #ff0047">
                                {{ group.quantity }} <br />
                            </div>
                        </td>

                        <td [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'table-dark' : ''"
                           >
                            <div>
                                {{ record.itemName }}
                            </div>
                            <div *ngFor="let group of
                                record.orderDetail.extraOrderDetailsDtos"
                                style="font-family: system-ui; font-size:
                                smaller; color: #ff0047">
                                {{ group.name }} <br />
                            </div>
                        </td>

                        <!-- <td [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'table-dark' : ''"
                         *ngIf="isMall">
                            <div>
                                {{ record.itemNameEnglish }}
                            </div>
                            <div *ngFor="let group of
                                record.orderDetail.extraOrderDetailsDtos"
                                style="font-family: system-ui; font-size:
                                smaller; color: #ff0047">
                                {{ group.nameEnglish }} <br />
                            </div>
                        </td> -->

                        <td [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'table-dark' : ''"
                        >
                            <div>{{ record.orderDetail.stringUnitPrice }}
                                <small> {{ currency }}
                                </small> </div>
                            <div *ngFor="let group of
                                record.orderDetail.extraOrderDetailsDtos"
                                style="font-family: system-ui; font-size:
                                smaller; color: #ff0047">
                                {{ group.stringUnitPrice }} <small>{{ currency
                                    }}</small> <br />
                            </div>
                        </td>


                        <td [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'table-dark' : ''"
                           >
                            <div>{{ record.orderDetail.unitPoints }}</div>
                            <div *ngFor="let group of
                                record.orderDetail.extraOrderDetailsDtos"
                                style="font-family: system-ui; font-size:
                                smaller; color: #ff0047">
                                {{ group.totalLoyaltyPoints *
                                record.orderDetail.quantity }} <br />
                            </div>
                        </td>

                        <td [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'table-dark' : ''"
                           >
                            <div>
                                {{ record.orderDetail.stringTotal }}<small> {{
                                    currency }}</small>
                                <!-- {{record.orderDetail.UnitPrice}} * {{record.orderDetail.quantity}}JD -->
                            </div>
                            <div *ngFor="let group of
                                record.orderDetail.extraOrderDetailsDtos"
                                style="font-family: system-ui; font-size:
                                smaller; color: #ff0047">
                                {{ group.stringTotal }}<small> {{ currency }}</small><br
                                    />
                            </div>
                        </td>

                        <td [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'table-dark' : ''"
                          >
                            <div>
                                {{ record.orderDetail.totalLoyaltyPoints }}
                                <!-- {{record.orderDetail.UnitPrice}} * {{record.orderDetail.quantity}}JD -->
                            </div>
                            <div *ngFor="let group of
                                record.orderDetail.extraOrderDetailsDtos"
                                style="font-family: system-ui; font-size:
                                smaller; color: #ff0047">
                                {{ group.totalLoyaltyPoints *
                                record.orderDetail.quantity }}<br />
                            </div>
                        </td>
                    </tr>

                    <tr [ngClass]="!record.orderDetail.itemNote ?
                        'border-bottom':'border-bottom-0  border-top-0'" class=" color-primary-info options"
                        *ngFor="let cat of
                        record.orderDetail.lstCategoryExtraOrderDetailsDto">

                        <td [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'table-dark' : ''"
                            style="width:150px"
                            *ngIf="appSession.tenantId === 34"></td>

                        <td [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'table-dark' : ''"
                          >
                            <div *ngFor="let group of
                                cat.lstExtraOrderDetailsDto">{{ group.quantity
                                }}
                                * {{ record.orderDetail.quantity }}
                                <br />
                            </div>
                        </td>

                        <td [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'table-dark' : ''"
                           >
                            <div>
                                {{ cat.specificationName }}
                            </div>
                            <div *ngFor="let group of
                                cat.lstExtraOrderDetailsDto">{{ group.name }}
                                <br />
                            </div>
                        </td>

                        <!-- <td [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'table-dark' : ''"
                             *ngIf="isMall">
                            <div>
                                {{ cat.specificationNameEnglish }}
                            </div>
                            <div *ngFor="let group of
                                cat.lstExtraOrderDetailsDto">{{
                                group.nameEnglish
                                }} <br /></div>
                        </td> -->

                        <td [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'table-dark' : ''"
                          >
                            <div *ngFor="let group of
                                cat.lstExtraOrderDetailsDto">{{
                                group.stringUnitPrice }}<small> {{ currency }}</small>
                                <br /></div>
                        </td>

                        <td [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'table-dark' : ''"
                           >
                            <div *ngFor="let group of
                                cat.lstExtraOrderDetailsDto">{{
                                group.unitPoints }} <br /></div>
                        </td>

                        <td [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'table-dark' : ''"
                           >
                            <!-- {{record.orderDetail.UnitPrice}} * {{record.orderDetail.quantity}}JD -->
                            <div *ngFor="let group of
                                cat.lstExtraOrderDetailsDto">{{
                                group.stringTotal
                                }} <small> {{ currency }}</small> <br /></div>
                        </td>


                        <td [ngClass]="darkModeService.currentSkin === 'dark' ?
                            'table-dark' : ''"
                            >
                            <!-- {{record.orderDetail.UnitPrice}} * {{record.orderDetail.quantity}}JD -->
                            <div *ngFor="let group of
                                cat.lstExtraOrderDetailsDto">{{
                                group.totalLoyaltyPoints
                                }} <br /></div>
                        </td>
                    </tr>

                    <tr class="border-bottom"
                        *ngIf="record.orderDetail.itemNote">
                        <td *ngIf="appSession.tenantId != 34" colspan="6"
                            style="direction:rtl;text-align:right">
                            <span class="text-danger">
                                ملاحظات : {{record.orderDetail.itemNote}}
                            </span>
                        </td>

                        <td *ngIf="appSession.tenantId === 34" colspan="7"
                            style="direction:rtl;text-align:right">
                            <span class="text-danger">
                                ملاحظات : {{record.orderDetail.itemNote}}
                            </span>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
            <div class="card-body invoice-padding pb-0">
                <div class="row invoice-sales-total-wrapper">
                    <div class="col-md-4 order-md-1 order-2 mt-md-0 mt-3">
                        <p class="card-text mb-0"
                            *ngIf="item.order.isSpecialRequest">
                            <span class="font-weight-bold"
                                *ngIf="!item.order.specialRequestText.startsWith('http')">Notes:</span>
                            <span class="ml-75">
                                {{item.order.specialRequestText}}</span>
                        </p>

                        <p class="card-text mb-0"
                            *ngIf="item.order.isSpecialRequest">
                            <span class="font-weight-bold"
                                *ngIf="item.order.specialRequestText.startsWith('http')">Notes:</span>
                            <span class="ml-75">
                                {{item.order.specialRequestText}}</span>
                        </p>

                        <p class="card-text mb-0" *ngIf="item.order.buyType !=''
                            && item.order.buyType !=null ">
                            <span class="font-weight-bold">Payment Type: </span>
                            <span class="ml-75"> {{item.order.buyType}} </span>
                        </p>
                    </div>


                    <div class="col-md-8 d-flex justify-content-end order-md-2
                        order-1">
                        <div class="">
                            <div class="invoice-total-item">
                                <p class="invoice-total-title">Subtotal:</p>
                                <p class="invoice-total-amount">{{SubTotalString}}
                                    {{ currency}}</p>
                            </div>

                            <div class="invoice-total-item"
                                *ngIf="item.order.isDeliveryOffer">
                                <p class="invoice-total-title">Delivery Before
                                    Discount:</p>
                                <p class="invoice-total-amount">{{
                                    item.order.deliveryOffer }} {{currency}}</p>
                            </div>
                            <div class="invoice-total-item"
                                *ngIf="item.orderTypeName == 'Delivery'">
                                <p class="invoice-total-title">Delivery Fees:</p>
                                <p class="invoice-total-amount">{{
                                    item.stringdeliveryCost }} {{currency}}</p>
                            </div>

                            <div class="invoice-total-item"
                                *ngIf="item.order.isItemOffer">
                                <p class="invoice-total-title">Discount Amount:</p>
                                <p class="invoice-total-amount"> {{
                                    item.order.itemOffer}} %</p>
                            </div>


                            <hr style="border-top: dotted 1px #000 !important;">
      
                            
                            <div class="invoice-total-item">
                                <p class="invoice-total-title">Total:</p>
                                <p class="invoice-total-amount">{{item.order.stringTotal}}
                                    {{currency}}</p>
                            </div>

                            <div class="invoice-total-item">
                                <p class="invoice-total-title">Total Points:</p>
                                <p class="invoice-total-amount">{{item.order.totalPoints}}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>



        </div>
    </div>
</div>
<viewLoyaltyOrders #viewLoyaltyOrders></viewLoyaltyOrders>
